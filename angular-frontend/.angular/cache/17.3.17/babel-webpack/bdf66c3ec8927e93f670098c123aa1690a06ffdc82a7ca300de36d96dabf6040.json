{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/leave.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = (a0, a1, a2) => ({\n  \"bg-success\": a0,\n  \"bg-warning\": a1,\n  \"bg-danger\": a2\n});\nfunction DashboardComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 7)(4, \"div\", 13)(5, \"div\", 14)(6, \"div\", 15);\n    i0.ɵɵtext(7, \" Available Leave Days \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 16);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 17);\n    i0.ɵɵelement(11, \"i\", 18);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(12, \"div\", 11)(13, \"div\", 19)(14, \"div\", 7)(15, \"div\", 13)(16, \"div\", 14)(17, \"div\", 20);\n    i0.ɵɵtext(18, \" Approved Leaves \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 16);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 17);\n    i0.ɵɵelement(22, \"i\", 21);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(23, \"div\", 11)(24, \"div\", 22)(25, \"div\", 7)(26, \"div\", 13)(27, \"div\", 14)(28, \"div\", 23);\n    i0.ɵɵtext(29, \" Pending Leaves \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 16);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 17);\n    i0.ɵɵelement(33, \"i\", 24);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(34, \"div\", 11)(35, \"div\", 25)(36, \"div\", 7)(37, \"div\", 13)(38, \"div\", 14)(39, \"div\", 26);\n    i0.ɵɵtext(40, \" Rejected Leaves \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 16);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 17);\n    i0.ɵɵelement(44, \"i\", 27);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.currentUser.AVELEAVE);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r0.approvedLeaves);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r0.pendingLeaves);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r0.rejectedLeaves);\n  }\n}\nfunction DashboardComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"span\", 28);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const leave_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(leave_r2.DATESTART);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(leave_r2.DATEEND);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(leave_r2.TYPEOFLEAVE);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(6, _c0, leave_r2.LEAVESTATUS === \"APPROVED\", leave_r2.LEAVESTATUS === \"PENDING\", leave_r2.LEAVESTATUS === \"REJECTED\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", leave_r2.LEAVESTATUS, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(leave_r2.NODAYS);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(authService, leaveService) {\n      this.authService = authService;\n      this.leaveService = leaveService;\n      this.currentUser = null;\n      this.recentLeaves = [];\n      this.approvedLeaves = 0;\n      this.pendingLeaves = 0;\n      this.rejectedLeaves = 0;\n      this.currentUser = this.authService.getCurrentUser();\n    }\n    ngOnInit() {\n      if (this.currentUser) {\n        this.loadLeaveStats();\n      }\n    }\n    loadLeaveStats() {\n      if (this.currentUser) {\n        this.leaveService.getLeavesByEmployee(this.currentUser.EMPLOYID).subscribe({\n          next: leaves => {\n            this.recentLeaves = leaves.slice(0, 5);\n            this.approvedLeaves = leaves.filter(l => l.LEAVESTATUS === 'APPROVED').length;\n            this.pendingLeaves = leaves.filter(l => l.LEAVESTATUS === 'PENDING').length;\n            this.rejectedLeaves = leaves.filter(l => l.LEAVESTATUS === 'REJECTED').length;\n          }\n        });\n      }\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.LeaveService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 28,\n        vars: 2,\n        consts: [[1, \"row\"], [1, \"col-12\"], [1, \"h3\", \"mb-4\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"card\", \"shadow\", \"mb-4\"], [1, \"card-header\", \"py-3\"], [1, \"m-0\", \"font-weight-bold\", \"text-primary\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-xl-3\", \"col-md-6\", \"mb-4\"], [1, \"card\", \"border-left-primary\", \"shadow\", \"h-100\", \"py-2\"], [1, \"row\", \"no-gutters\", \"align-items-center\"], [1, \"col\", \"mr-2\"], [1, \"text-xs\", \"font-weight-bold\", \"text-primary\", \"text-uppercase\", \"mb-1\"], [1, \"h5\", \"mb-0\", \"font-weight-bold\", \"text-gray-800\"], [1, \"col-auto\"], [1, \"fas\", \"fa-calendar\", \"fa-2x\", \"text-gray-300\"], [1, \"card\", \"border-left-success\", \"shadow\", \"h-100\", \"py-2\"], [1, \"text-xs\", \"font-weight-bold\", \"text-success\", \"text-uppercase\", \"mb-1\"], [1, \"fas\", \"fa-check\", \"fa-2x\", \"text-gray-300\"], [1, \"card\", \"border-left-warning\", \"shadow\", \"h-100\", \"py-2\"], [1, \"text-xs\", \"font-weight-bold\", \"text-warning\", \"text-uppercase\", \"mb-1\"], [1, \"fas\", \"fa-clock\", \"fa-2x\", \"text-gray-300\"], [1, \"card\", \"border-left-danger\", \"shadow\", \"h-100\", \"py-2\"], [1, \"text-xs\", \"font-weight-bold\", \"text-danger\", \"text-uppercase\", \"mb-1\"], [1, \"fas\", \"fa-times\", \"fa-2x\", \"text-gray-300\"], [1, \"badge\", 3, \"ngClass\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n            i0.ɵɵtext(3, \"Dashboard\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(4, DashboardComponent_div_4_Template, 45, 4, \"div\", 3);\n            i0.ɵɵelementStart(5, \"div\", 0)(6, \"div\", 1)(7, \"div\", 4)(8, \"div\", 5)(9, \"h6\", 6);\n            i0.ɵɵtext(10, \"Recent Leave Applications\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8)(13, \"table\", 9)(14, \"thead\")(15, \"tr\")(16, \"th\");\n            i0.ɵɵtext(17, \"Date From\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"th\");\n            i0.ɵɵtext(19, \"Date To\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"th\");\n            i0.ɵɵtext(21, \"Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"th\");\n            i0.ɵɵtext(23, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"th\");\n            i0.ɵɵtext(25, \"Days\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(26, \"tbody\");\n            i0.ɵɵtemplate(27, DashboardComponent_tr_27_Template, 12, 10, \"tr\", 10);\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n            i0.ɵɵadvance(23);\n            i0.ɵɵproperty(\"ngForOf\", ctx.recentLeaves);\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf],\n        encapsulation: 2\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}